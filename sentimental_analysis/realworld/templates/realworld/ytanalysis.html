<!DOCTYPE html>
<html style="font-size: 16px;">
{% load static %}
<head>
  {% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
font-family: "Lato", sans-serif;
transition: background-color .5s;
}

.sidenav {
height: 100%;
width: 0;
position: fixed;
z-index: 1;
top: 0;
left: 0;
background-color: #111;
overflow-x: hidden;
transition: 0.5s;
padding-top: 60px;
}

.sidenav a {
padding: 8px 8px 32px 32px;
text-decoration: none;
font-size: 23px;
color: #818181;
display: block;
transition: 0.3s;
}

.sidenav a:hover {
color: #f1f1f1;
}

.sidenav .closebtn {
position: absolute;
top: 0;
right: 25px;
font-size: 36px;
margin-left: 50px;
}

#main {
transition: margin-left .5s;
padding: 16px;
}

@media screen and (max-height: 450px) {
.sidenav {padding-top: 15px;}
.sidenav a {font-size: 18px;}
}

.footer {
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        background-color: #333;
        color: #fff;
        text-align: center;
        padding: 10px 0;
      }

      .copyright {
        display: inline;
      }
      .github-link {
        display: inline;
        color: #4caf50;
        text-decoration: none;
      }

      .github-link:hover {
        text-decoration: underline;
      }
      body {
    margin: 0;
    padding: 0;
    overflow: hidden; /* Hide scrollbars while loading */
}

.loading-spinner {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    /* background: rgba(0, 0, 0, 0.8); Semi-transparent background overlay */
    z-index: 9999; /* Ensure it's on top of other elements */
    border-radius: 10px;
    padding: 20px;
}

.spinner {
    border: 6px solid rgba(255, 255, 255, 0.3); /* Light border */
    border-top: 6px solid #3498db; /* Blue top border */
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}





</style>
</head>
<body>



  <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="home">Home</a>
    <a href="audioanalysis">Audio Analysis</a>
    <a href="ytanalysis">Comments Analysis</a>
    <a href="input">Document Analysis</a>
    <a href="productanalysis">Product Analysis</a>
    <a href="textanalysis">Text Analysis</a>
  </div>
  
  <div id="main">
    <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; YouTube Comments Analysis</span>
    <h1 style="margin: auto; text-align: center; font-family: Ranchers;">{{ note }}</h1>
<br>
<br>
<form id="yt-analysis" action = "{% url "youtube comments analysis" %}" method = "post" enctype="multipart/form-data">
        {% csrf_token %}
    <label for = "ytid"></label>
    <div class="container" style="width: 100%;">
      <label for = "ytid">Enter Youtube video ID:</label>
    <input class="form-control form-control-lg" type="input" name="ytid" rows = "10" cols="50" >
    </input>
    <br>
    <i><p style="color:red">For example, in the <b>URL:</b> https://www.youtube.com/watch?v=wU6udHRIkcc&ab_channel=AbdulBari, the <b>video ID</b> is wU6udHRIkcc.</p></i>
    <br>
    <i><p style="color:red">*Please give the analyzer sometime to analyze*</p></i>
    <br>
    
    <button class="btn btn-primary btn-lg" style="display: flex; align-items: center; justify-content: center;" type ="submit" id="submit" onclick="startLoading()">Submit</button>
    <div id="loadingSpinner" class="loading-spinner">
      <div class="spinner"></div>
    </div>
    </div>
  </form>
  </div>
  <script>
  function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
  }
  
  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    document.body.style.backgroundColor = "white";
  }

  function startLoading() {
    // Get the button and the loading spinner elements
    const button = document.getElementById('submit');
    const loadingSpinner = document.getElementById('loadingSpinner');

    // Toggle the "button--loading" class on the button
    button.classList.toggle('button--loading');

    // Show the loading spinner
    loadingSpinner.style.display = 'block';

    // Simulate a 5-second loading delay
    setTimeout(function() {
        // Hide the loading spinner
        loadingSpinner.style.display = 'none';
        // Remove the "button--loading" class to return the button to its original state
        button.classList.remove('button--loading');
    }, 51000); // 5 seconds in milliseconds
}


  </script> 

<div class="footer">
  <div class="copyright">
      &copy; All Rights Reserved
  </div>
  <a class="github-link" href="https://github.com/MuskKat/SE_Project1" target="_blank">GitHub</a>
</div>
</body>
</html>